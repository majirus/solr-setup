<?xml version="1.0" encoding="UTF-8" ?>
<config>
	<!-- indiquer si solr doit continuer de fonctionner malgrÃ¨s une erreur de 
		config -->
	<abortOnConfigurationError>${solr.abortOnConfigurationError:false}
	</abortOnConfigurationError>
	<luceneMatchVersion>LUCENE_36</luceneMatchVersion>

	<!-- The DirectoryFactory to use for indexes. solr.StandardDirectoryFactory 
		is filesystem based and tries to pick the best implementation for the current 
		JVM and platform. solr.NRTCachingDirectoryFactory, the default, wraps solr.StandardDirectoryFactory 
		and caches small files in memory for better NRT performance. One can force 
		a particular implementation via solr.MMapDirectoryFactory, solr.NIOFSDirectoryFactory, 
		or solr.SimpleFSDirectoryFactory. solr.RAMDirectoryFactory is memory based, 
		not persistent, and doesn't work with replication. -->
	<directoryFactory name="DirectoryFactory"
		class="${solr.directoryFactory:solr.StandardDirectoryFactory}" />

	<!-- The default high-performance update handler -->
	<updateHandler class="solr.DirectUpdateHandler2" />

	<!-- Request Dispatcher This section contains instructions for how the SolrDispatchFilter 
		should behave when processing requests for this SolrCore. handleSelect is 
		a legacy option that affects the behavior of requests such as /select?qt=XXX 
		handleSelect="true" will cause the SolrDispatchFilter to process the request 
		and dispatch the query to a handler specified by the "qt" param, assuming 
		"/select" isn't already registered. handleSelect="false" will cause the SolrDispatchFilter 
		to ignore "/select" requests, resulting in a 404 unless a handler is explicitly 
		registered with the name "/select" handleSelect="true" is not recommended 
		for new users, but is the default for backwards compatibility -->
	<requestDispatcher handleSelect="false">
		<!-- Request Parsing: we do not authorize Solr to fetch remote files. You 
			should make sure your system has some authentication before using enableRemoteStreaming="true" -->
		<requestParsers enableRemoteStreaming="false"
			multipartUploadLimitInKB="2048000" />
	</requestDispatcher>
	<!-- Request Handlers http://wiki.apache.org/solr/SolrRequestHandler Incoming 
		queries will be dispatched to a specific handler by name based on the path 
		specified in the request. Legacy behavior: If the request path uses "/select" 
		but no Request Handler has that name, and if handleSelect="true" has been 
		specified in the requestDispatcher, then the Request Handler is dispatched 
		based on the qt parameter. Handlers without a leading '/' are accessed this 
		way like so: http://host/app/[core/]select?qt=name If no qt is given, then 
		the requestHandler that declares default="true" will be used or the one named 
		"standard". If a Request Handler is declared with startup="lazy", then it 
		will not be initialized until the first request that uses it. -->
	<!-- SearchHandler http://wiki.apache.org/solr/SearchHandler For processing 
		Search Queries, the primary Request Handler provided with Solr is "SearchHandler" 
		It delegates to a sequent of SearchComponents (see below) and supports distributed 
		queries across multiple shards -->
	<requestHandler name="/select" class="solr.SearchHandler">
		<!-- default values for query parameters can be specified, these will be 
			overridden by parameters in the request -->
		<lst name="defaults">
			<int name="rows">10</int>					
			<str name="fl">*,score</str>
			<str name="defType">lucene</str>			
		</lst>
	</requestHandler>
	    
	<requestHandler name="/update" class="solr.XmlUpdateRequestHandler" />
	<!--on met a jour solr avec SolrJ au format optimise javabin -->
	<requestHandler name="/update/javabin" class="solr.BinaryUpdateRequestHandler" />

	<!-- Admin Handlers Admin Handlers - This will register all the standard 
		admin RequestHandlers. -->
	<requestHandler name="/admin/" class="solr.admin.AdminHandlers" />

	<!-- TODO -->
<!-- 	<requestHandler name="standard" class="solr.StandardRequestHandler" -->
		default="true" />

	<!-- ping/healthcheck -->
	<requestHandler name="/admin/ping" class="solr.PingRequestHandler">
		<lst name="defaults">
			<str name="qt">standard</str>
			<str name="q">solrpingquery</str>
			<str name="echoParams">all</str>
		</lst>
	</requestHandler>



	<!-- config for the admin interface -->
	<admin>
		<defaultQuery>*:*</defaultQuery>
	</admin>

</config>

